function openItem(n){var t,u=n.toLowerCase().indexOf("partial")>-1,i,r,f;u?(i=n.split("").reverse().join(""),t=parseFloat(i.substring(0,i.indexOf("/")).split("").reverse().join("")),i=i.substring(i.indexOf("/")+1),n=i.split("").reverse().join(""),r=n.replace("Partial",""),history.pushState({item:t,link:n},"Dashboard - "+r+"#"+t,parseUrl()+"/"+r+"/"+t),f=r==="Project"?{projectID:t}:r==="Request"?{requestID:t}:{elementID:t},runAjax(ajax("ready","displayDiv",u?f:null,n).OpenItem)):location.href="console/"+n}function openMenu(n,t){var i="";switch(t){case"PendingPromotes":i="Manager - Pending";runAjax(ajax("openMenu","displayDiv",null,"PendingRequest").Pending)}history.pushState(null,i,parseUrl()+"/"+t);$("#menu ul li").each(function(){$(this).removeClass("selected")});$(n).addClass("selected")}function parseUrl(){var t=window.location.href.replace("/R","/r").replace("/E","/e").replace("/P","/p").replace("/A","/s").replace("/S","/s").replace("/ManageGroups","/managegroups").replace("#",""),n=t.split("/r");return n.length<=1&&(n=t.split("/e")),n.length<=1&&(n=t.split("/p")),n.length<=1&&(n=t.split("/managegrou")),n.length<=1&&(n=t.split("/a")),n.length<=1&&(n=t.split("/s")),n[0]}function getGrid(){history.pushState(null,"Dashboard",parseUrl());runAjax(ajax("ready","displayDiv",null,"Grid").Grid)}function showParent(){$(".tree").unbind("click");$("#hasParent").length>0?($(".tree").hasClass("invisible")&&($(".tree").css("opacity",0),$(".tree").removeClass("invisible"),setTimeout(function(){$(".tree").animate({opacity:1},300)},300)),$(".tree").attr("tooltip",$("#parentName").val()),$(".tree").bind("click",function(){openItem($("#hasParent").val())})):($(".tree").animate({opacity:0},200),$(".tree").addClass("invisible"))}function bindInputs(){var n={format:"MM/DD/YYYY",separator:"-"};$("div.date-picker-wrapper").each(function(){$(this).remove()});$("input.dateRange").each(function(){$(this).dateRangePicker(n).keyup(function(n){n.keyCode===13&&rerunGrid()}).bind("datepicker-closed",function(){$(this).val().indexOf("-")>=10&&rerunGrid()})});$("select[multiple]").multiselect({show:["blind",100],hide:["blind",400]}).multiselectfilter({label:"",autoReset:!0});$(".filter").focusout(function(){rerunGrid()}).keyup(function(n){n.keyCode===13&&rerunGrid()})}function rerunGrid(n){var t=null;return n||(t={ID:$("#SelectedId").val(),requestorIdList:$("#SelectedRequestors").size()===1&&$("#SelectedRequestors").val()===null?null:$("#SelectedRequestors").val(),assignedIdList:$("#SelectedAssignee").size()===1&&$("#SelectedAssignee").val()===null?null:$("#SelectedAssignee").val(),category:$("#SelectedCategory").size()===1&&$("#SelectedCategory").val()===null?null:$("#SelectedCategory").val(),requestType:$("#SelectedType").size()===1&&$("#SelectedType").val()===null?null:$("#SelectedType").val(),area:$("#SelectedArea").size()===1&&$("#SelectedArea").val()===null?null:$("#SelectedArea").val(),summary:$("#EnteredSummary").val(),submittedRange:$("#SubmittedRange").val(),dueDateRange:$("#DueDateRange").val(),status:$("#SelectedStatus").size()===1&&$("#SelectedStatus").val()===null?null:$("#SelectedStatus").val(),closedRange:$("#ClosedRange").val()}),runAjax(ajax("ready","displayDiv",t,"Grid").Grid),!1}function evalHref(){var n=window.location.href,t="manager/dashboard/";n.toLowerCase().indexOf(t)>1&&(n=n.substring(n.toLowerCase().indexOf(t)+t.length),n.length>0&&n.indexOf("/")<0&&$("#"+n).addClass("selected"))}function promote(n){function i(n,t,i){return $("<input>").attr("type",n).attr("name",t).val(i)}if($("#startDate").val()==null||$("#startDate").val().length!==10){alert("Please enter Start Date.");return}var t=document.createElement("form");t.method="POST";t.action="/console/manager/PromoteToProject";$(t).append(i("number","requestID",n));$(t).append($("#startDate"));console.log(t);$("#body").css("display","none").append(t);t.submit()}function ajax(n,t,i,r){"use strict";var f,e,o,u;return f=e=o=null,i=i!==null&&(typeof i=="object"||typeof i=="string")?i:null,t!==null&&typeof t=="string"&&(u=t),{OpenItem:new ajaxCall(ajaxDetails().HttpType.POST,"/console/"+r,i,ajaxDetails().Synchronous.TRUE,ajaxDetails().ContentType.DEFAULT,function(){$("#"+t+" > div").addClass("centerContents").html("<img src='/Images/loading.gif' />")},function(n){$("#"+t+" > div").removeClass("centerContents").html(n);showParent();var i=history.state.link.replace("Partial","");document.title=i+" #"+history.state.item;$(".site-title").html(document.title)},function(n,t,i){$("#"+u+" > div").html("Unable to load due to "+i)}),Grid:new ajaxCall(ajaxDetails().HttpType.POST,"/console/"+r,i,ajaxDetails().Synchronous.TRUE,ajaxDetails().ContentType.DEFAULT,function(){$("#"+t+" > div").addClass("centerContents").html("<img src='/Images/loading.gif' />")},function(n){$("#"+t+" > div").removeClass("centerContents").html(n);showParent();document.title="Dashboard";$(".site-title").html(document.title);bindInputs()},function(n,t,i){$("#"+u+" > div").html("Unable to load due to "+i)}),SlickGrid:new ajaxCall(ajaxDetails().HttpType.POST,"/console/"+r,i,ajaxDetails().Synchronous.TRUE,ajaxDetails().ContentType.DEFAULT,function(){$("#"+t+" > div").addClass("centerContents").html("<img src='/Images/loading.gif' />")},function(n){var i,r;for($("#"+t+" > div").removeClass("centerContents"),i=[],r=0;r<n[0].length;r++)i.push({id:i[r],name:i[r],field:i[r]});slickGrid=new Slick.Grid($("#"+t+" > div"),n,i,null);showParent();document.title="Dashboard";$(".site-title").html(document.title);alert(document.title)},function(n,t,i){$("#"+u+" > div").html("Unable to load due to "+i)}),Pending:new ajaxCall(ajaxDetails().HttpType.POST,"/manager/"+r,i,ajaxDetails().Synchronous.TRUE,ajaxDetails().ContentType.DEFAULT,function(){$("#"+t+" > div").addClass("centerContents").html("<img src='/Images/loading.gif' />")},function(n){$("#"+t+" > div").removeClass("centerContents").html(n);showParent();document.title="Manager - Pending";$(".site-title").html(document.title)},function(n,t,i){$("#"+u+" > div").html("Unable to load due to "+i)})}}var slickGrid;$(document).ready(function(){var n,t;evalHref();showParent();window.addEventListener("popstate",function(n){if(n.state!==null&&typeof n.state!="undefined"){var t=n.state.link.replace("Partial",""),i=t==="Project"?{projectID:n.state.item}:t==="Request"?{requestID:n.state.item}:{elementID:n.state.item};runAjax(ajax("ready","displayDiv",i,n.state.link).OpenItem)}else rerunGrid(!0);evalHref()});n=null;$("li.ellipse").hover(function(){var t=$(this);n=setTimeout(function(){t.children().first().addClass("showEllipse").css({top:t.offset().top-t.parent().offset().top+t.parent().position().top+2})},500)},function(){clearTimeout(n);$(this).children().first().removeClass("showEllipse")});bindInputs();t=$.ech.multiselect.prototype.close;$.ech.multiselect.prototype.close=function(){var n=t.apply(this,arguments);return rerunGrid(),n};$("#globalSearch").autocomplete({delay:750,focus:function(n){n.preventDefault()},source:function(n,t){var i={searchContext:$("#globalSearch").val()};$.get("/console/SearchConsole",i,function(n){for(var r=[],i=0;i<n.length;i++)r.push({label:n[i].Text,value:n[i].RelativeUrl,id:i,title:n[i].ToolTip});t(r)})},select:function(n,t){n.preventDefault();$("#globalSearch").text("").html("");openItem(t.item.value)},open:function(){$(".ui-autocomplete").css({"background-color":"#FFFFFF","font-size":"0.7em","max-height":"350px","overflow-y":"scroll","overflow-x":"hidden"});$(".ui-autocomplete li").css({outline:"1px"})}}).data("ui-autocomplete")._renderItem=function(n,t){return $("<li title='"+t.title+"'>").data("ui-autocomplete-item",t).append($("<a>").html(t.label)).appendTo(n)}});
//# sourceMappingURL=console.min.js.map
